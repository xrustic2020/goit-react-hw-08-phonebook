(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[5],{124:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(24),u=r.n(a),s=(r(76),r(63)),o=r(37),i=r(6),l=[{path:"/",label:"Home Page",component:Object(n.lazy)((function(){return r.e(2).then(r.bind(null,162))})),exact:!0},{path:"/register",label:"Registration",component:Object(n.lazy)((function(){return Promise.all([r.e(0),r.e(4)]).then(r.bind(null,163))})),exact:!1},{path:"/login",label:"Login",component:Object(n.lazy)((function(){return Promise.all([r.e(0),r.e(3)]).then(r.bind(null,164))})),exact:!1},{path:"/contacts",label:"Contacts",component:Object(n.lazy)((function(){return Promise.all([r.e(0),r.e(8),r.e(1)]).then(r.bind(null,160))})),exact:!1}],b=r(20),j=r(16),d=r(42),O=r.n(d),g=r(27),f=r(61),h=r.n(f),p=r(67),m=r.n(p),x=r(25),v=r.n(x),E=r(3),S={logOut:j.a.logOut},k=Object(b.b)((function(e){return{userName:j.c.getUsername(e),userEmail:j.c.getUserEmail(e)}}),S)((function(e){var t=e.userName,r=e.userEmail,n=e.logOut;return Object(E.jsxs)("div",{className:v.a.container,children:[Object(E.jsxs)("p",{className:v.a.welcome,children:["Welcome, ",Object(E.jsx)(m.a,{className:v.a.userAvatar}),Object(E.jsx)("span",{className:v.a.userName,children:" ".concat(t," (").concat(r,")")})]}),Object(E.jsx)(g.b,{to:"/",className:v.a.logout,children:Object(E.jsx)(h.a,{onClick:function(){return n()}})})]})})),U=Object(b.b)((function(e){return{isAuthorization:j.c.getIsAuthorization(e)}}))((function(e){var t=e.isAuthorization;return Object(E.jsxs)("nav",{className:O.a.nav,children:[Object(E.jsx)("h1",{className:O.a.logo,children:"Phonebook"}),t&&Object(E.jsx)(k,{})]})})),_={getUserData:j.a.getCurrentUser},y=Object(b.b)(null,_)((function(e){var t=e.getUserData;return Object(n.useEffect)((function(){t()}),[]),Object(E.jsxs)(s.a,{children:[Object(E.jsx)(U,{}),Object(E.jsx)(n.Suspense,{fallback:Object(E.jsx)(o.a,{}),children:Object(E.jsx)(i.d,{children:l.map((function(e){var t=e.path,r=e.exact,n=e.component;return Object(E.jsx)(i.b,{path:t,exact:r,component:n},t)}))})})]})})),R=r(68),q=r(41);u.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(b.a,{store:q.a.store,children:Object(E.jsx)(R.a,{loading:Object(E.jsx)(o.a,{}),persistor:q.a.persistor,children:Object(E.jsx)(g.a,{children:Object(E.jsx)(y,{})})})})}),document.getElementById("root"))},13:function(e,t,r){"use strict";var n=r(2),c={getRequest:Object(n.b)("contacts/getRequest"),getSuccess:Object(n.b)("contacts/getSucess"),getError:Object(n.b)("contacts/getError"),addedRequest:Object(n.b)("contacts/addedRequest"),addedSuccess:Object(n.b)("contacts/addedSucess"),addedError:Object(n.b)("contacts/addedError"),deleteRequest:Object(n.b)("contacts/deleteRequest"),deleteSuccess:Object(n.b)("contacts/deleteSucess"),deleteError:Object(n.b)("contacts/deleteError"),setFilter:Object(n.b)("filter/set"),resetFilter:Object(n.b)("filter/reset")};t.a=c},16:function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"a",(function(){return q})),r.d(t,"c",(function(){return w}));var n,c,a,u=r(2),s=Object(u.b)("auth/registerRequest"),o=Object(u.b)("auth/registerSuccess"),i=Object(u.b)("auth/registerError"),l=Object(u.b)("auth/loginRequest"),b=Object(u.b)("auth/loginSuccess"),j=Object(u.b)("auth/loginError"),d={registerRequest:s,registerSuccess:o,registerError:i,logoutRequest:Object(u.b)("auth/logoutRequest"),logoutSuccess:Object(u.b)("auth/logoutSuccess"),logoutError:Object(u.b)("auth/logoutError"),loginRequest:l,loginSuccess:b,loginError:j,getCurrentUserRequest:Object(u.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(u.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(u.b)("auth/getCurrentUserError")},O=r(5),g=r(11),f={name:null,email:null},h=Object(u.c)(f,(n={},Object(O.a)(n,d.registerSuccess,(function(e,t){return t.payload.user})),Object(O.a)(n,d.loginSuccess,(function(e,t){return t.payload.user})),Object(O.a)(n,d.logoutSuccess,(function(){return f})),Object(O.a)(n,d.getCurrentUserSuccess,(function(e,t){return t.payload})),n)),p=Object(u.c)(null,(c={},Object(O.a)(c,d.registerSuccess,(function(e,t){return t.payload.token})),Object(O.a)(c,d.loginSuccess,(function(e,t){return t.payload.token})),Object(O.a)(c,d.logoutSuccess,(function(){return null})),c)),m=function(e,t){return t.payload},x=Object(u.c)(null,(a={},Object(O.a)(a,d.registerError,m),Object(O.a)(a,d.loginError,m),Object(O.a)(a,d.logoutError,m),Object(O.a)(a,d.getCurrentUserError,m),a)),v=Object(g.b)({user:h,token:p,error:x}),E=r(18),S=r.n(E),k=r(32),U=r(21),_=r.n(U);_.a.defaults.baseURL="https://connections-api.herokuapp.com/";var y=function(e){_.a.defaults.headers.common.Authorization="Bearer ".concat(e)},R=function(){_.a.defaults.headers.common.Authorization=""},q={register:function(e){return function(){var t=Object(k.a)(S.a.mark((function t(r){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(d.registerRequest()),t.prev=1,t.next=4,_.a.post("/users/signup",e);case 4:n=t.sent,y(n.data.token),r(d.registerSuccess(n.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(d.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(d.logoutRequest()),e.prev=1,e.next=4,_.a.post("/users/logout");case 4:R(),t(d.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(d.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(k.a)(S.a.mark((function t(r){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(d.loginRequest()),t.prev=1,t.next=4,_.a.post("/users/login",e);case 4:n=t.sent,y(n.data.token),r(d.loginSuccess(n.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(d.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(k.a)(S.a.mark((function e(t,r){var n,c,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(),c=n.auth.token){e.next=3;break}return e.abrupt("return");case 3:return y(c),t(d.getCurrentUserRequest()),e.prev=5,e.next=8,_.a.get("/users/current");case 8:a=e.sent,t(d.getCurrentUserSuccess(a.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(d.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,r){return e.apply(this,arguments)}}()}},w={getIsAuthorization:function(e){return Boolean(e.auth.token)},getUsername:function(e){return e.auth.user.name},getUserEmail:function(e){return e.auth.user.email}}},25:function(e,t,r){e.exports={container:"UserMenu_container__3kTNA",logout:"UserMenu_logout__2yiNM",welcome:"UserMenu_welcome__31pvp",userName:"UserMenu_userName__2_ops",userAvatar:"UserMenu_userAvatar__2AS2e"}},37:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(65),c=r.n(n),a=r(66),u=r.n(a),s=r(3),o=function(){return Object(s.jsx)("div",{className:u.a.container,children:Object(s.jsx)(c.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})}},41:function(e,t,r){"use strict";var n,c,a,u=r(31),s=r(2),o=r(19),i=r(69),l=r.n(i),b=r(5),j=r(11),d=r(13),O=d.a.getRequest,g=d.a.getSuccess,f=d.a.getError,h=d.a.addedRequest,p=d.a.addedSuccess,m=d.a.addedError,x=d.a.deleteRequest,v=d.a.deleteSuccess,E=d.a.deleteError,S=d.a.setFilter,k=d.a.resetFilter,U=Object(s.c)([],(n={},Object(b.a)(n,g,(function(e,t){return t.payload})),Object(b.a)(n,p,(function(e,t){var r=t.payload;return[].concat(Object(u.a)(e),[r])})),Object(b.a)(n,v,(function(e,t){var r=t.payload;return Object(u.a)(e.filter((function(e){return e.id!==r})))})),n)),_=Object(s.c)("",(c={},Object(b.a)(c,S,(function(e,t){return t.payload})),Object(b.a)(c,k,(function(e,t){return t.payload})),c)),y=Object(s.c)(!1,(a={},Object(b.a)(a,O,(function(){return!0})),Object(b.a)(a,g,(function(){return!1})),Object(b.a)(a,f,(function(){return!1})),Object(b.a)(a,h,(function(){return!0})),Object(b.a)(a,p,(function(){return!1})),Object(b.a)(a,m,(function(){return!1})),Object(b.a)(a,x,(function(){return!0})),Object(b.a)(a,v,(function(){return!1})),Object(b.a)(a,E,(function(){return!1})),a)),R=Object(j.b)({items:U,filter:_,loading:y}),q=r(16),w={key:"auth",storage:l.a,whitelist:["token","user"]},N=Object(u.a)(Object(s.d)({serializableCheck:{ignoredActions:[o.a,o.f,o.b,o.c,o.d,o.e]}})),C=Object(s.a)({reducer:{auth:Object(o.g)(w,q.b),contacts:R},middleware:N,devTools:!1}),A={store:C,persistor:Object(o.h)(C)};t.a=A},42:function(e,t,r){e.exports={nav:"NavBar_nav__3W1WN"}},63:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(64),c=r.n(n),a=r(3);function u(e){var t=e.children;return Object(a.jsx)("div",{className:c.a.container,children:t})}},64:function(e,t,r){e.exports={container:"Container_container__63Zye"}},66:function(e,t,r){e.exports={container:"Loader_container__2wZhl"}},76:function(e,t,r){}},[[124,6,7]]]);
//# sourceMappingURL=main.b54b682f.chunk.js.map